(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1264:function(e,t,s){Promise.resolve().then(s.bind(s,3893))},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9202:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},3893:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),c=s(1713),l=s(7648),r=s(9202),n=s(2208),i=s(5805),o=s(8997),d=s(9205);let u=(0,d.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var p=s(9397);let h=(0,d.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var m=s(1837);function x(){let{data:e,isLoading:t}=(0,c.a)({queryKey:["sites"],queryFn:async()=>(await m.VL.getAll()).data}),s=(null==e?void 0:e.reduce((e,t)=>{var s;return e+((null===(s=t.stats)||void 0===s?void 0:s.views)||0)},0))||0,d=(null==e?void 0:e.reduce((e,t)=>{var s;return e+((null===(s=t.stats)||void 0===s?void 0:s.rsvpCount)||0)},0))||0,x=(null==e?void 0:e.reduce((e,t)=>{var s;return e+((null===(s=t.stats)||void 0===s?void 0:s.wishCount)||0)},0))||0,v=(null==e?void 0:e.filter(e=>"published"===e.status).length)||0;return(0,a.jsxs)("div",{className:"space-y-8 pb-20 md:pb-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's your overview."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(g,{icon:(0,a.jsx)(r.Z,{className:"w-5 h-5"}),label:"Published Sites",value:v,color:"purple"}),(0,a.jsx)(g,{icon:(0,a.jsx)(n.Z,{className:"w-5 h-5"}),label:"Total Views",value:s,color:"blue"}),(0,a.jsx)(g,{icon:(0,a.jsx)(i.Z,{className:"w-5 h-5"}),label:"RSVPs",value:d,color:"green"}),(0,a.jsx)(g,{icon:(0,a.jsx)(o.Z,{className:"w-5 h-5"}),label:"Wishes",value:x,color:"pink"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Sites"}),(0,a.jsxs)(l.default,{href:"/dashboard/sites",className:"text-purple-600 hover:text-purple-700 text-sm font-medium flex items-center gap-1",children:["View all ",(0,a.jsx)(u,{className:"w-4 h-4"})]})]}),t?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"animate-pulse flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]},e))}):e&&e.length>0?(0,a.jsx)("div",{className:"space-y-4",children:e.slice(0,5).map(e=>{var t;return(0,a.jsxs)(l.default,{href:"/dashboard/sites/".concat(e._id),className:"flex items-center gap-4 p-3 -mx-3 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(r.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(t=e.stats)||void 0===t?void 0:t.views)||0," views",(0,a.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs ".concat("published"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:e.status})]})]}),(0,a.jsx)(u,{className:"w-5 h-5 text-gray-400"})]},e._id)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r.Z,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No sites yet"}),(0,a.jsxs)(l.default,{href:"/dashboard/templates",className:"btn-primary inline-flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"})," Create Your First Site"]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(l.default,{href:"/dashboard/templates",className:"flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl hover:from-purple-100 hover:to-pink-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:(0,a.jsx)(p.Z,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Create New Site"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Browse templates and start creating"})]})]}),(0,a.jsxs)(l.default,{href:"/dashboard/sites",className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:(0,a.jsx)(h,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"View Analytics"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Check your site performance"})]})]})]})]})]})]})}function g(e){let{icon:t,label:s,value:c,color:l}=e;return(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br ".concat({purple:"from-purple-500 to-purple-600",blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",pink:"from-pink-500 to-pink-600"}[l]," rounded-xl flex items-center justify-center text-white mb-3"),children:t}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:c}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:s})]})}},1837:function(e,t,s){"use strict";s.d(t,{VL:function(){return o},YK:function(){return d},cF:function(){return u},iJ:function(){return n},oI:function(){return i}});var a=s(3464),c=s(4131);let l=s(257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",r=a.Z.create({baseURL:l,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=c.Z.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(c.Z.remove("token"),window.location.href="/login"),Promise.reject(e)});let n={login:(e,t)=>r.post("/auth/login",{email:e,password:t}),register:(e,t,s)=>r.post("/auth/register",{name:e,email:t,password:s}),me:()=>r.get("/auth/me")},i={getPublished:()=>r.get("/templates/published"),getAll:()=>r.get("/templates"),getOne:e=>r.get("/templates/".concat(e)),create:e=>r.post("/templates",e),update:(e,t)=>r.put("/templates/".concat(e),t),delete:e=>r.delete("/templates/".concat(e)),duplicate:e=>r.post("/templates/".concat(e,"/duplicate")),publish:e=>r.post("/templates/".concat(e,"/publish")),unpublish:e=>r.post("/templates/".concat(e,"/unpublish")),preview:(e,t)=>r.post("/templates/".concat(e,"/preview"),{previewDataId:t}),addSection:(e,t)=>r.post("/templates/".concat(e,"/sections"),t),updateSection:(e,t,s)=>r.put("/templates/".concat(e,"/sections/").concat(t),s),deleteSection:(e,t)=>r.delete("/templates/".concat(e,"/sections/").concat(t)),reorderSections:(e,t)=>r.post("/templates/".concat(e,"/sections/reorder"),{sectionOrder:t})},o={getAll:()=>r.get("/sites"),getOne:e=>r.get("/sites/".concat(e)),getBySlug:e=>r.get("/sites/public/".concat(e)),create:(e,t)=>r.post("/sites",{templateId:e,title:t}),update:(e,t)=>r.put("/sites/".concat(e),t),updateSlug:(e,t)=>r.put("/sites/".concat(e,"/slug"),{slug:t}),updateSection:(e,t,s,a)=>r.put("/sites/".concat(e,"/sections/").concat(t),{content:s,visible:a}),reorderSections:(e,t)=>r.post("/sites/".concat(e,"/sections/reorder"),{sectionOrder:t}),publish:e=>r.post("/sites/".concat(e,"/publish")),unpublish:e=>r.post("/sites/".concat(e,"/unpublish")),delete:e=>r.delete("/sites/".concat(e)),getStats:e=>r.get("/sites/".concat(e,"/stats"))},d={getAll:e=>r.get("/guests/".concat(e)),getStats:e=>r.get("/guests/".concat(e,"/stats")),updateStatus:(e,t,s)=>r.put("/guests/".concat(e,"/").concat(t,"/status"),{status:s}),delete:(e,t)=>r.delete("/guests/".concat(e,"/").concat(t)),export:e=>r.get("/guests/".concat(e,"/export")),submitRsvp:(e,t)=>r.post("/guests/".concat(e,"/rsvp"),t),lookupRsvp:(e,t)=>r.post("/guests/".concat(e,"/rsvp/lookup"),{email:t}),updateRsvp:(e,t)=>r.put("/guests/".concat(e,"/rsvp"),t)},u={getAll:e=>r.get("/wishes/".concat(e)),getApproved:e=>r.get("/wishes/".concat(e,"/approved")),getStats:e=>r.get("/wishes/".concat(e,"/stats")),approve:(e,t)=>r.post("/wishes/".concat(e,"/").concat(t,"/approve")),reject:(e,t)=>r.post("/wishes/".concat(e,"/").concat(t,"/reject")),toggleHighlight:(e,t)=>r.post("/wishes/".concat(e,"/").concat(t,"/highlight")),delete:(e,t)=>r.delete("/wishes/".concat(e,"/").concat(t)),bulkApprove:(e,t)=>r.post("/wishes/".concat(e,"/bulk/approve"),{wishIds:t}),bulkReject:(e,t)=>r.post("/wishes/".concat(e,"/bulk/reject"),{wishIds:t}),bulkDelete:(e,t)=>r.post("/wishes/".concat(e,"/bulk/delete"),{wishIds:t}),submit:(e,t,s)=>r.post("/wishes/".concat(e),{authorName:t,message:s})}}},function(e){e.O(0,[294,648,763,713,971,117,744],function(){return e(e.s=1264)}),_N_E=e.O()}]);