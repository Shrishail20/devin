(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8791:function(e,t,s){Promise.resolve().then(s.bind(s,8991))},8991:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(7437),c=s(2265),n=s(7648),o=s(9376),l=s(9501),i=s(3590),r=s(5897),u=s(5515),p=s.n(u),d=s(2023),m=s(9345),h=s(6337),g=s(7769),x=s(2208),b=s(1837),f=s(9375);let v=r.Ryn({email:r.Z_8().email("Please enter a valid email"),password:r.Z_8().min(6,"Password must be at least 6 characters")});function j(){let e=(0,o.useRouter)(),{login:t}=(0,f.t)(),[s,r]=(0,c.useState)(!1),[u,j]=(0,c.useState)(!1),{register:w,handleSubmit:y,formState:{errors:N}}=(0,l.cI)({resolver:(0,i.F)(v)}),k=async s=>{j(!0);try{let a=await b.iJ.login(s.email,s.password);t(a.data.user,a.data.token),p().fire({icon:"success",title:"Welcome back!",text:"You have successfully logged in",timer:1500,showConfirmButton:!1}),e.push("/dashboard")}catch(e){var a,c;p().fire({icon:"error",title:"Login Failed",text:(null===(c=e.response)||void 0===c?void 0:null===(a=c.data)||void 0===a?void 0:a.error)||"Invalid credentials"})}finally{j(!1)}},S=async()=>{j(!0);try{let s=await b.iJ.login("demo@evento.com","demo123456");t(s.data.user,s.data.token),e.push("/dashboard")}catch(e){p().fire({icon:"error",title:"Demo Login Failed",text:"Please try again or register a new account"})}finally{j(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex justify-center items-center gap-2 mb-8",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsx)("span",{className:"font-bold text-2xl gradient-text",children:"Evento"})]}),(0,a.jsxs)("div",{className:"glass-card p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Welcome Back"}),(0,a.jsxs)("form",{onSubmit:y(k),className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"email",...w("email"),className:"input-field pl-12",placeholder:"you@example.com"})]}),N.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:s?"text":"password",...w("password"),className:"input-field pl-12 pr-12",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,a.jsx)(g.Z,{className:"w-5 h-5"}):(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]}),N.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.password.message})]}),(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign In"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]}),(0,a.jsx)("button",{onClick:S,disabled:u,className:"mt-4 w-full btn-secondary disabled:opacity-50",children:"Try Demo Account"})]}),(0,a.jsxs)("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(n.default,{href:"/register",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign up free"})]})]})]})})}},1837:function(e,t,s){"use strict";s.d(t,{VL:function(){return r},YK:function(){return u},cF:function(){return p},iJ:function(){return l},oI:function(){return i}});var a=s(3464),c=s(4131);let n=s(257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",o=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=c.Z.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),o.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(c.Z.remove("token"),window.location.href="/login"),Promise.reject(e)});let l={login:(e,t)=>o.post("/auth/login",{email:e,password:t}),register:(e,t,s)=>o.post("/auth/register",{name:e,email:t,password:s}),me:()=>o.get("/auth/me")},i={getPublished:()=>o.get("/templates/published"),getAll:()=>o.get("/templates"),getOne:e=>o.get("/templates/".concat(e)),create:e=>o.post("/templates",e),update:(e,t)=>o.put("/templates/".concat(e),t),delete:e=>o.delete("/templates/".concat(e)),duplicate:e=>o.post("/templates/".concat(e,"/duplicate")),publish:e=>o.post("/templates/".concat(e,"/publish")),unpublish:e=>o.post("/templates/".concat(e,"/unpublish")),preview:(e,t)=>o.post("/templates/".concat(e,"/preview"),{previewDataId:t}),addSection:(e,t)=>o.post("/templates/".concat(e,"/sections"),t),updateSection:(e,t,s)=>o.put("/templates/".concat(e,"/sections/").concat(t),s),deleteSection:(e,t)=>o.delete("/templates/".concat(e,"/sections/").concat(t)),reorderSections:(e,t)=>o.post("/templates/".concat(e,"/sections/reorder"),{sectionOrder:t})},r={getAll:()=>o.get("/sites"),getOne:e=>o.get("/sites/".concat(e)),getBySlug:e=>o.get("/sites/public/".concat(e)),create:(e,t)=>o.post("/sites",{templateId:e,title:t}),update:(e,t)=>o.put("/sites/".concat(e),t),updateSlug:(e,t)=>o.put("/sites/".concat(e,"/slug"),{slug:t}),updateSection:(e,t,s,a)=>o.put("/sites/".concat(e,"/sections/").concat(t),{content:s,visible:a}),reorderSections:(e,t)=>o.post("/sites/".concat(e,"/sections/reorder"),{sectionOrder:t}),publish:e=>o.post("/sites/".concat(e,"/publish")),unpublish:e=>o.post("/sites/".concat(e,"/unpublish")),delete:e=>o.delete("/sites/".concat(e)),getStats:e=>o.get("/sites/".concat(e,"/stats"))},u={getAll:e=>o.get("/guests/".concat(e)),getStats:e=>o.get("/guests/".concat(e,"/stats")),updateStatus:(e,t,s)=>o.put("/guests/".concat(e,"/").concat(t,"/status"),{status:s}),delete:(e,t)=>o.delete("/guests/".concat(e,"/").concat(t)),export:e=>o.get("/guests/".concat(e,"/export")),submitRsvp:(e,t)=>o.post("/guests/".concat(e,"/rsvp"),t),lookupRsvp:(e,t)=>o.post("/guests/".concat(e,"/rsvp/lookup"),{email:t}),updateRsvp:(e,t)=>o.put("/guests/".concat(e,"/rsvp"),t)},p={getAll:e=>o.get("/wishes/".concat(e)),getApproved:e=>o.get("/wishes/".concat(e,"/approved")),getStats:e=>o.get("/wishes/".concat(e,"/stats")),approve:(e,t)=>o.post("/wishes/".concat(e,"/").concat(t,"/approve")),reject:(e,t)=>o.post("/wishes/".concat(e,"/").concat(t,"/reject")),toggleHighlight:(e,t)=>o.post("/wishes/".concat(e,"/").concat(t,"/highlight")),delete:(e,t)=>o.delete("/wishes/".concat(e,"/").concat(t)),bulkApprove:(e,t)=>o.post("/wishes/".concat(e,"/bulk/approve"),{wishIds:t}),bulkReject:(e,t)=>o.post("/wishes/".concat(e,"/bulk/reject"),{wishIds:t}),bulkDelete:(e,t)=>o.post("/wishes/".concat(e,"/bulk/delete"),{wishIds:t}),submit:(e,t,s)=>o.post("/wishes/".concat(e),{authorName:t,message:s})}},9375:function(e,t,s){"use strict";s.d(t,{t:function(){return o}});var a=s(3011),c=s(6885),n=s(4131);let o=(0,a.U)()((0,c.tJ)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>{t?n.Z.set("token",t,{expires:7}):n.Z.remove("token"),e({token:t})},login:(t,s)=>{n.Z.set("token",s,{expires:7}),e({user:t,token:s,isAuthenticated:!0,isLoading:!1})},logout:()=>{n.Z.remove("token"),e({user:null,token:null,isAuthenticated:!1})},setLoading:t=>e({isLoading:t})}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}))}},function(e){e.O(0,[461,294,648,227,971,117,744],function(){return e(e.s=8791)}),_N_E=e.O()}]);