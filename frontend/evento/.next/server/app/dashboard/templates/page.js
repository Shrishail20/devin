(()=>{var e={};e.id=123,e.ids=[123],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5704:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u}),s(5874),s(2834),s(5495),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let u=["",{children:["dashboard",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5874)),"/home/ubuntu/repos/devin/frontend/evento/src/app/dashboard/templates/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2834)),"/home/ubuntu/repos/devin/frontend/evento/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5495)),"/home/ubuntu/repos/devin/frontend/evento/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/repos/devin/frontend/evento/src/app/dashboard/templates/page.tsx"],d="/dashboard/templates/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/templates/page",pathname:"/dashboard/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},2299:(e,t,s)=>{Promise.resolve().then(s.bind(s,1778))},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},1778:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(7577),i=s(4976),n=s(108),o=s(119),l=s(5047),u=s(2919),c=s(7427),d=s(1572),h=s(4014),p=s(7358),m=s(8307),x=s(2714),g=s(3855),b=s(8069);let y=["All","Wedding","Birthday","Corporate","Party","Other"];function v(){let e=(0,l.useRouter)(),t=(0,i.NL)(),[s,x]=(0,a.useState)(""),[g,v]=(0,a.useState)("All"),{data:j,isLoading:N}=(0,n.a)({queryKey:["templates","published"],queryFn:async()=>(await b.oI.getPublished()).data}),w=(0,o.D)({mutationFn:async({templateId:e,title:t})=>(await b.VL.create(e,t)).data,onSuccess:s=>{t.invalidateQueries({queryKey:["sites"]}),e.push(`/dashboard/sites/${s._id}/edit`)},onError:e=>{u.Z.fire({icon:"error",title:"Error",text:e.response?.data?.error||"Failed to create site"})}}),C=async e=>{let{value:t}=await u.Z.fire({title:"Create Your Site",input:"text",inputLabel:"Site Title",inputPlaceholder:"e.g., John & Jane Wedding",inputValue:`My ${e.name}`,showCancelButton:!0,confirmButtonText:"Create",confirmButtonColor:"#9333ea",inputValidator:e=>e?null:"Please enter a title"});t&&w.mutate({templateId:e._id,title:t})},M=j?.filter(e=>{let t=e.name.toLowerCase().includes(s.toLowerCase())||e.description?.toLowerCase().includes(s.toLowerCase()),r="All"===g||e.category===g;return t&&r}),P=e=>{switch(e){case"Wedding":return r.jsx(c.Z,{className:"w-4 h-4"});case"Birthday":return r.jsx(d.Z,{className:"w-4 h-4"});case"Corporate":return r.jsx(h.Z,{className:"w-4 h-4"});case"Party":return r.jsx(p.Z,{className:"w-4 h-4"});default:return null}};return(0,r.jsxs)("div",{className:"space-y-6 pb-20 md:pb-0",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Templates"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a template to create your event site"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(m.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search templates...",value:s,onChange:e=>x(e.target.value),className:"input-field pl-12"})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:y.map(e=>(0,r.jsxs)("button",{onClick:()=>v(e),className:`flex items-center gap-2 px-4 py-2 rounded-xl whitespace-nowrap transition-all ${g===e?"bg-purple-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[P(e),e]},e))})]}),N?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("div",{className:"card animate-pulse",children:[r.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-xl mb-4"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded w-2/3 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},e))}):M&&M.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>r.jsx(f,{template:e,onUse:()=>C(e),isCreating:w.isPending},e._id))}):(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(m.Z,{className:"w-10 h-10 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter"})]})]})}function f({template:e,onUse:t,isCreating:s}){return(0,r.jsxs)("div",{className:"card group overflow-hidden",children:[(0,r.jsxs)("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl mb-4 relative overflow-hidden",children:[e.thumbnail?r.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(h.Z,{className:"w-16 h-16 text-purple-300"})}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,r.jsxs)("button",{className:"bg-white text-gray-900 px-4 py-2 rounded-lg font-medium flex items-center gap-2 transform scale-90 group-hover:scale-100 transition-transform",children:[r.jsx(x.Z,{className:"w-4 h-4"})," Preview"]})})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),e.category&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:e.category})]}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:[e.sections?.length||0," sections"]}),(0,r.jsxs)("span",{children:[e.usageCount||0," uses"]})]}),(0,r.jsxs)("button",{onClick:t,disabled:s,className:"w-full btn-primary flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(g.Z,{className:"w-4 h-4"}),"Use Template"]})]})]})}},5874:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/home/ubuntu/repos/devin/frontend/evento/src/app/dashboard/templates/page.tsx#default`)},119:(e,t,s)=>{"use strict";s.d(t,{D:()=>c});var r=s(7577),a=s(1180),i=s(2113),n=s(4351),o=s(3341),l=class extends n.l{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,a.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.Vr.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s,r),this.#r.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s,r),this.#r.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#t)})})}},u=s(4976);function c(e,t){let s=(0,u.NL)(t),[a]=r.useState(()=>new l(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let n=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(i.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=r.useCallback((e,t)=>{a.mutate(e,t).catch(o.ZT)},[a]);if(n.error&&(0,o.L3)(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:c,mutateAsync:n.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[360,859,992,919,397,91,158],()=>s(5704));module.exports=r})();